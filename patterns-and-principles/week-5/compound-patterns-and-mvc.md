# Compound Patterns and MVC

When we talk about a compound pattern, we generally mean taking other patterns to build a new pattern for a common problem in need of a standardized solution.

## MVC

MVC (Model-View Controller) is a popular compound pattern that has a lot of variation in applications and structure based on problems being solved.

Referenced often for application, GUI, and database frameworks and is often used to separate responsibility modularity for complex business logic and interactions.

MVC supports application designs that allow information (stored in models) to be viewed in a number of different ways (views), with each view aided by code that handles user input or notifies the view of updates to its associated models (controllers).

Tools/frameworks for creating views are commonplace--widgets in GUI toolkits, templates in web frameworks, etc.

Data storage frameworks are present as models for most apps--generic data structures, other persistence mechanisms (files, SQL/noSQL databases, caches, etc.).

Controllers are usually written by hand, but can be generated by application designers. Specifies the connection or binding between value maintained by a view widget and similar value in your app's model.

Java GUI applications are often MVC structured (Swing, JavaFX, etc.).

### MVC Roles

As mentioned, MVC is a pattern for manipulating information that may be displayed in more than one view.

- Model: Data structure(s) being manipulated
    - May be capable of notifying observers of state changes
    
- View: A visualization or use of the data structure
    -  Having more than one view is fine and common--multiple web pages, windows, application interfaces
    - MVC keeps all views in sync as the model changes

- Controller: Handle view updates and user input
    - Make updates to the model as appropriate
    - More than one controller means more than one interaction flow is likely applied

Typical MVC Structure:

- User interacts with the view
- Controller changes state information in the model
- Controller updates the view
- Model updates the view
- View needs to get state data from the model

There is no one true approach to MVC

### Patterns used in MVC

- Observer pattern used in models
    - Views keep track of changes on models via the observer pattern
    - A variation is to have controllers observe the models and notify views as appropriate 

- View and Controller make use of the Strategy pattern
    - When an event occurs in the view, it delegates to its current controller
    - Can easily switch controllers

- Views (typically) implement the Composite pattern
    - In GUI frameworks, tell the root level of a view to update and all of its subcomponents (panels, buttons, scroll bars, etc.) update as well.

- Others: Events are often handled via a Command pattern, views can be dynamically augmented with the Decorator pattern, etc.